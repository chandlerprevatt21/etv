{% extends 'base.html' %}
{% load static %}
{% load humanize %}
{% block title %}{{ title }}{% endblock %}
{% block canonical %}https://www.empowerthevillage.org/events/power-swing-classic/buy-tickets{% endblock %}
{% block seo_description %}Tickets | ETV Power Swing Classic{% endblock %}

{% block content %}
<div id="page">
    <div id="overlay" style="padding: 5% 2%">
      <div class="row center-align" style="border-bottom: dotted 1px rgb(233, 233, 233); padding-bottom: 2%; margin-bottom: 2%">
        <a class="valign-wrapper" href="/events/power-swing-classic"><i class="material-icons" style="font-size: 16px">arrow_back</i>&nbsp; Event Details</a>
        <h6 class="modal-title">ETV Power Swing Classic</h6>
        <h7 class="modal-date">Tuesday, August 30th, 2022 - 11:00am - 8:30pm EST</h7>
    </div>
    <div class="row" id="ticket-checkout-p1">
        <div class="col s12 l6">
            <form id="ticket-form">
                <table>
                    <tbody>
                        <tr class="row ticket-row">
                            <td class="col s12 m9">
                                <p class="ticket-title">Single Golfer</p>
                                <p class="ticket-price"><b style="text-decoration: line-through; font-weight:400">$395</b> <b class="sale">&nbsp$375</b> - Early Bird Special for the First 50 Registrants!</p>
                                <p class="ticket-description">Includes all golf fees, cart, lunch, post-tournament 3-hour cocktail reception and awards
                                    banquet/buffet</p>
                            </td>
                            <td class="col s12 m3">
                                <div class="input-field ticket-quantity-input">
                                    <select class="qty-counter" tid="1">
                                    {% if single_quantity.quantity is not none %}
                                    <option value="{{ single_quantity.quantity }}" selected>{{ single_quantity.quantity }}</option>
                                    <option value="0">0</option>
                                    {% else %}
                                    <option value="0" selected>0</option>
                                    {% endif %}
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                    <option value="7">7</option>
                                    <option value="8">8</option>
                                    <option value="9">9</option>
                                    <option value="10">10</option>
                                    </select>
                                    <label>Quantity</label>
                                </div>
                            </td>
                        </tr>
                        <tr class="row ticket-row">
                            <td class="col s12 m9">
                                <p class="ticket-title">Member For A Day</p>
                                <p class="ticket-price"><b style="text-decoration: line-through; font-weight: 400">$395</b> <b class="sale">&nbsp$375</b> - Early Bird Special for the First 50 Registrants!</p>
                                <p class="ticket-description">Take advantage of any of the many luxurious amenities at Fiddler's Elbow! Choose from golf clinic and driving range,
                                    tennis clinic, a yoga class, massage therapy, Boot Camp fitness/exercise or swimming and lounging at the pool. You’ll be notified ahead of time with your
                                    schedule and availability. Also includes lunch and 3-hour cocktail reception and awards banquet/buffet.</p>
                                    
                            </td>
                            <td class="col s12 m3">
                                <div class="input-field ticket-quantity-input">
                                    <select class="qty-counter" tid="4">
                                    {% if mfd_quantity.quantity is not none %}
                                    <option value="{{ mfd_quantity.quantity }}" selected>{{ mfd_quantity.quantity }}</option>
                                    <option value="0">0</option>
                                    {% else %}
                                    <option value="0" selected>0</option>
                                    {% endif %}
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                    <option value="7">7</option>
                                    <option value="8">8</option>
                                    <option value="9">9</option>
                                    <option value="10">10</option>
                                    </select>
                                    <label>Quantity</label>
                                </div>
                            </td>
                        </tr>
                        <tr class="row ticket-row">
                            <td class="col s12 m9">
                                <p class="ticket-title">Foursome</p>
                                <p class="ticket-price">$1,500</p>
                                <p class="ticket-description">Includes all golf fees, cart, lunch, post-tournament 3-hour cocktail reception and awards
                                    banquet/buffet, foursome photo</p>
                                
                            </td>
                            <td class="col s12 m3">
                                <div class="input-field ticket-quantity-input">
                                    <select class="qty-counter" tid="2">
                                    {% if foursome_quantity.quantity is not none %}
                                    <option value="{{ foursome_quantity.quantity }}" selected>{{ foursome_quantity.quantity }}</option>
                                    <option value="0">0</option>
                                    {% else %}
                                    <option value="0" selected>0</option>
                                    {% endif %}
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                    <option value="7">7</option>
                                    <option value="8">8</option>
                                    <option value="9">9</option>
                                    <option value="10">10</option>
                                    </select>
                                    <label>Quantity</label>
                                </div>
                            </td>
                        </tr>
                        <tr class="row ticket-row">
                            <td class="col s12 m9">
                                <p class="ticket-title">Golf Clinic</p>
                                <p class="ticket-price">$295</p>
                                <p class="ticket-description">Golf Clinic includes 90-minute clinic with lesson that features pitching, chipping, bunker play
                                    and the art of the famous “flop shot.” Use of private driving range for a 90-minute clinic on full swing and fairway bunkers. Includes complimentary golf club rentals,
                                    lunch, ETV swag bag, post-tournament 3-hour cocktail reception and awards banquet/buffet.</p>
                          
                            </td>
                            <td class="col s12 m3">
                                <div class="input-field ticket-quantity-input">
                                    <select class="qty-counter" tid="3">
                                    {% if clinic_quantity.quantity > 0 %}
                                    <option value="{{ clinic_quantity.quantity }}" selected>{{ clinic_quantity.quantity }}</option>
                                    <option value="0">0</option>
                                    {% else %}
                                    <option value="0" selected>0</option>
                                    {% endif %}
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                    <option value="7">7</option>
                                    <option value="8">8</option>
                                    <option value="9">9</option>
                                    <option value="10">10</option>
                                    </select>
                                    <label>Quantity</label>
                                </div>
                            </td>
                        </tr>
                        
                    </tbody>
                </table>
                
            </form>
            <ul class="collapsible popout">
              <li>
                <div class="collapsible-header" style="align-items: center; justify-content: center;"><p class="ticket-title valign-wrapper" style="padding: 0; margin: 0; color: black">Sponsorships <span class="material-icons">
                  keyboard_arrow_down
                  </span></p></div>
                <div class="collapsible-body">
                  <form id="sponsor-form">
                    <table>
                        <tbody>
                            <tr class="row ticket-row">
                                <td class="col s12 m9">
                                    <p class="ticket-title">Hole Sponsor</p>
                                    <p class="ticket-description">Covers fees for 1 player, recognition on event signage and digital event brochure, signage at your selected hole, & ETV Swag Bag</p>
                                    <p class="ticket-price">$1000</p>
                                </td>
                                <td class="col s12 m3">
                                    <div class="input-field ticket-quantity-input">
                                        <select class="qty-counter" tid="{{ hole.pk }}">
                                        {% if hole_quantity.quantity is not none %}
                                        <option value="{{ hole_quantity.quantity }}" selected>{{ hole_quantity.quantity }}</option>
                                        <option value="0">0</option>
                                        {% else %}
                                        <option value="0" selected>0</option>
                                        {% endif %}
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10">10</option>
                                        </select>
                                        <label>Quantity</label>
                                    </div>
                                </td>
                            </tr>
                            <tr class="row ticket-row">
                                <td class="col s12 m9">
                                    <p class="ticket-title">Bronze/Golf Clinic Sponsor</p>
                                    <p class="ticket-description">Covers fees for 2 players, recognition on event signage and digital event brochure, signage at clinic location(s), & ETV Swag Bag</p>
                                    <p class="ticket-price">$2,500</p>
                                </td>
                                <td class="col s12 m3">
                                    <div class="input-field ticket-quantity-input">
                                        <select class="qty-counter" tid="{{ bronze.pk }}">
                                        {% if bronze_quantity.quantity is not none %}
                                        <option value="{{ bronze_quantity.quantity }}" selected>{{ bronze_quantity.quantity }}</option>
                                        <option value="0">0</option>
                                        {% else %}
                                        <option value="0" selected>0</option>
                                        {% endif %}
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10">10</option>
                                        </select>
                                        <label>Quantity</label>
                                    </div>
                                </td>
                            </tr>
                            <tr class="row ticket-row">
                                <td class="col s12 m9">
                                    <p class="ticket-title">Silver Sponsor</p>
                                    <p class="ticket-description">Customized VIP golfer package, special recognition during event and on event signage at specialty activities (eg. putting contest, golf clinic, hole-in- one, etc.) and digital event brochure, & ETV Swag Bag</p>
                                    <p class="ticket-price">$5,000</p>
                                </td>
                                <td class="col s12 m3">
                                    <div class="input-field ticket-quantity-input">
                                        <select class="qty-counter" tid="{{ silver.pk }}">
                                        {% if silver_quantity.quanity is not none %}
                                        <option value="{{ silver_quantity.quantity }}" selected>{{ silver_quantity.quantity }}</option>
                                        <option value="0">0</option>
                                        {% else %}
                                        <option value="0" selected>0</option>
                                        {% endif %}
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10">10</option>
                                        </select>
                                        <label>Quantity</label>
                                    </div>
                                </td>
                            </tr>
                            <tr class="row ticket-row">
                                <td class="col s12 m9">
                                    <p class="ticket-title">Gold Sponsor</p>
                                    <p class="ticket-description">Customized VIP golfer package, premier pre-event/event recognition, inclusion in select press coverage, ETV website, event signage, event brochure, premium ETV Swag Bag</p>
                                    <p class="ticket-price">$10,000</p>
                                </td>
                                <td class="col s12 m3">
                                    <div class="input-field ticket-quantity-input">
                                        <select class="qty-counter" tid="{{ gold.pk }}">
                                        {% if gold_quantity.quantity is not none %}
                                        <option value="{{ gold_quantity.quantity }}" selected>{{ gold_quantity.quantity }}</option>
                                        <option value="0">0</option>
                                        {% else %}
                                        <option value="0" selected>0</option>
                                        {% endif %}
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10">10</option>
                                        </select>
                                        <label>Quantity</label>
                                    </div>
                                </td>
                            </tr>
                            <tr class="row ticket-row">
                                <td class="col s12 m9">
                                    <p class="ticket-title">Platinum Sponsor</p>
                                    <p class="ticket-description">Customize VIP golfer package, speaking opportunity, premier pre-event/event recognition, inclusion in all press, coverage, ETV website, event signage, event brochure, select branding opportunities, premium ETV Swag Bag</p>
                                    <p class="ticket-price">$20,000</p>
                                </td>
                                <td class="col s12 m3">
                                    <div class="input-field ticket-quantity-input">
                                        <select class="qty-counter" tid="{{ platinum.pk }}">
                                        {% if platinum_quantity.quantity is not none %}
                                        <option value="{{ platinum_quantity.quantity }}" selected>{{ platinum_quantity.quantity }}</option>
                                        <option value="0">0</option>
                                        {% else %}
                                        <option value="0" selected>0</option>
                                        {% endif %}
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10">10</option>
                                        </select>
                                        <label>Quantity</label>
                                    </div>
                                </td>
                            </tr>
                            <tr class="row ticket-row">
                                <td class="col s12 m9">
                                    <p class="ticket-title">Diamond Sponsor</p>
                                    <p class="ticket-description">Customized VIP golfer package, special welcome, speaking opportunity, premier pre-event/event recognition, inclusion in all press coverage, ETV website, event signage, event brochure, collateral material, videoFeature, special giveaway and other branding opportunities, premium ETV Swag Bag</p>
                                    <p class="ticket-price">$25,000</p>
                                </td>
                                <td class="col s12 m3">
                                    <div class="input-field ticket-quantity-input">
                                        <select class="qty-counter" tid="{{ diamond.pk }}">
                                        {% if diamond_quantity.quantity is not none %}
                                        <option value="{{ diamond_quantity.quantity }}" selected>{{ diamond_quantity.quantity }}</option>
                                        <option value="0">0</option>
                                        {% else %}
                                        <option value="0" selected>0</option>
                                        {% endif %}
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10">10</option>
                                        </select>
                                        <label>Quantity</label>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </form>
                </div>
              </li>
            </ul>
        </div>
        <div class="col s12 l6 summary-card-container" id="ticket-summary-container">
            <div class="z-depth-1 summary-card" id="ticket-summary">
                <div id="ticket-summary-card1">
                    <p class="modal-summary-title" style="margin-bottom: 0;">Summary</p>
                    <table class="summary-table" id="summary-table-1">
                       
                        <thead id="summary-thead">
                            <tr id="total-tr">
                                <td>Ticket Type</td>
                                <td>Price</td>
                                <td class="center-align">Qty</td>
                            </tr>
                        </thead>
                        <tbody class="tbody summary-table-body">
                            {% for x in item_list %}
                            {% if x.quantity > 0 %}
                            <tr class="product-row {{ x.pk }}-row">
                                <td class="product-summary">{{ x.ticket }}</td>
                                <td class="product-summary-price {{ x.pk }}-price">${{ x.ticket.price|intcomma }}</td>
                                <td class="product-summary-quantity  center-align {{ x.pk }}-quantity">{{ x.quantity }}</td>
                            </tr>
                            {% endif %}
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                <div class="valign-wrapper" style="padding-top: 10px;">
                    <p style="margin-top:0" class="summary-total" id="total-container-1">Total - <div class="total-line">${{ cart.total|intcomma }}</div> <a  style="margin-bottom: 5px" href="" class="btn checkout" id="step1-continue" style="background-color: rgb(29, 154, 29) !important; font-size: 32px !important">Continue</a>
                        <i class="secure"><i class="fas fa-lock"></i> Secure </i></p>
                </div>
            </div>
            <img class="z-depth-1" src="{% static 'img/golf-header.png' %}" width=100% style="margin-top: 20px">
            <div class="card center-align" style="padding:1% 5%; width: 100%; margin-top: 20px">
              
              <p class="text">Event Registration & Lunch Service Begins at <b style="color: #01a650">11:00am</b></p>
              <p class="text">Shotgun Starts at <b style="color: #bf1e2d">12:30pm</b></p>
              <p class="text">Premium Open Bar & Dinner from <b style="color: #01a650">5:30PM-8:30PM</b></p>
              
            </div>
        </div>
    </div>
    <div class="row" id="ticket-checkout-p2" style="display:none">
        <div class="col s12 l6 scrollspy">
            <a class="valign-wrapper" href="" id="step2-back"><i class="material-icons" style="font-size: 16px">arrow_back</i>Back To Ticket Selection</a>
            
            <div>
                    <h6 class="modal-summary-title">Ticketholder List</h6>
                    <p class="ticket-description">Let us know who's coming for speedier check-in!</p>
                    <div class="divider"></div>
                    <form id="guest-form">
                      <div class="input-field col s12">
                        <i class="material-icons prefix">mode_edit</i>
                        <textarea id="ticket-guest-list" class="materialize-textarea" rows="4"></textarea>
                        <label for="ticket-guest-list">My Guest List</label>
                      </div>
                    </form>

                  </div>
        </div>
        <div class="col s12 l6">
            <div class="z-depth-1 summary-card">
                <p class="modal-summary-title" style="margin-bottom: 0;">Summary</p>
                <table class="summary-table" id="summary-table-2">
                  <thead id="summary-thead">
                      <tr id="total-tr">
                          <td>Ticket Type</td>
                          <td>Price</td>
                          <td class="center-align">Qty</td>
                      </tr>
                  </thead>
                  <tbody class="tbody summary-table-body">
                      {% for x in item_list %}
                      {% if x.quantity > 0 %}
                      <tr class="product-row {{ x.pk }}-row">
                          <td class="product-summary">{{ x.ticket }}</td>
                          <td class="product-summary-price {{ x.pk }}-price">${{ x.ticket.price|intcomma }}</td>
                          <td class="product-summary-quantity  center-align {{ x.pk }}-quantity">{{ x.quantity }}</td>
                      </tr>
                      {% endif %}
                      {% endfor %}
                  </tbody>
              </table>
              <div class="valign-wrapper" style="padding-top: 10px;">
                <p style="margin-top:0" class="summary-total" id="total-container-1">Total - <div class="total-line">${{ cart.total|intcomma }}</div> <a  style="margin-bottom: 5px" href="" class="btn checkout" id="step-2-billing" style="background-color: rgb(29, 154, 29) !important; font-size: 32px !important">Checkout</a>
                    <i class="secure"><i class="fas fa-lock"></i> Secure </i></p>
            </div>
            </div>
            <img class="z-depth-1" src="{% static 'img/golf-header.png' %}" width=100% style="margin-top: 20px">
        </div>
    </div>
    <div class="row" id="ticket-checkout-p3" style="display:none">
        <div class="left col s12 l6 checkout-container section scrollspy">
            <a href="" class="valign-wrapper" id="step3-back"><i class="material-icons" style="font-size: 16px">arrow_back</i>&nbspBack To Guest List</a>
                <div class="center-align">
                    <h5 class="section-title " style="padding-right: 15px">Payment Method</h5>
                    <i class="fas fa-lock center-align"></i> Secure </i>
                </div>
                <form id="braintree-card-form">
                <input type="hidden" id="device-data-input">
                <input type="hidden" id="nonce-input">
                <fieldset class="checkout-fieldset z-depth-1" style="padding: 5% 10%">

                    <div class="row">
                    
                    <div class="col s12">
                        <label for="card-number">Card Number</label>
                        <div id="card-number" class="valign-wrapper"><i class="fas fa-credit-card input-icon"></i></div>
                    </div>
                    </div>
                    <div class="row">
                    <div class="col s12 m4">
                        <label for="card-date">Expiration</label>
                        <div id="card-date" class="valign-wrapper"><i class="fas fa-calendar-day input-icon"></i></div>
                    </div>
                    <div class="col s6 m4">
                        <label for="card-cvv">CVV</label>
                        <div id="card-cvv" class="valign-wrapper"><i class="fas fa-lock input-icon"></i></div>
                    </div>
                    <div class="col s6 m4">
                        <label for="card-zip">ZIP</label>
                        <div id="card-zip" class="valign-wrapper"><i class="fas fa-globe-americas input-icon"></i></div>
                    </div>
                    </div>
                </fieldset>
                </form>
                <form id="billing-form">
                <input type="hidden" id="billing-saved-or-new">
                    <fieldset class=checkout-fieldset  style="margin-top: 0">
                    
                    <div class="express-checkout center-align row z-depth-1">
                        
                        <div class="col s12">
                        <h6>Express Checkout</h6>
                        <div class="col s6 m6 l4" style="padding-left:0; padding-right: 0">
                            <button class="btn waves-effect google-button valign-wrapper z-depth-0" id="google-pay-button" style="border: solid 1px rgb(211, 211, 211)">
                            <img src="{% static 'img/googlepay-full.svg' %}" style="width: 60px; margin-left: 3px">
                            </button>
                        </div>
                        <div class="col s6 m6 l4" style="padding-left:0; padding-right: 0">
                            <div id="paypal-button" style="margin:5px; letter-spacing: 1.5px"></div>
                        </div>
                        <div class="col s6 m6 offset-m3 l4" style="padding-left:0; padding-right: 0">
                            <button class="valign-wrapper btn waves-effect venmo-button z-depth-0" id="venmo-button" style="display:none;">
                            <img src="{% static 'img/venmo-white.svg' %}" style="width: 80px; margin-left: 2px">
                            </button>
                        </div>
                        </div>
                    </div>
                    {% if not billing_address_id %}
                    <div>
                        {% if billing_addresses.count > 0 %}
                        <div>
                            <p class="p-title">Saved Billing Addresses</p>
                            {% for address in billing_addresses %}
                            <p>
                            <label class="address-label">
                                <input class="with-gap" name="billing-address-group" type="radio" value="{{ address.id }}"/>
                                <span></span>{{ address.get_address }}
                            </label>
                            </p>
                            {% endfor %}
                            <input type="hidden" id="saved-billing-id">
                        </div>
                        <div style="margin-top: 15px; margin-bottom: 10px;font-family: oskar;">OR</div>
                        {% endif %}
                        <div class="btn" id="add-new-billing">Add New Billing Address</div>
                        <div id="new-billing-address-form">
                        
                        <p class="p-title">New Billing Address</p>
                            <div class="input-field" >
                            <input type="text" name="name">
                            <label>{{ billing_address_form.name.label }}</label>
                            </div>
                            <div class="input-field" >
                                <input type="email" name="email">
                                <label>{{ billing_address_form.email.label }}</label>
                                </div>
                            <div class="input-field" >
                            <input type="text" name="address_line_1">
                            <label>{{ billing_address_form.address_line_1.label }}</label>
                            </div>
                            <div class="input-field">
                            <input type="text" name="address_line_2">
                            <label>{{ billing_address_form.address_line_2.label }} (Optional)</label>
                            </div>
                            <div class="row">
                            <div class="col s4 input-field" >
                                <input type="text" name="city">
                                <label>{{ billing_address_form.city.label }}</label>
                            </div>
                            <div class="col s4 input-field" >
                              <select name="state" id="id_state">
                                <option value=""></option>
                                {% for key, value in states %}
                                <option value="{{ key }}">{{ value }}</option>
                                {% endfor %}
                              </select>
                                <label>{{ billing_address_form.state.label }}</label>
                            </div>
                            <div class="col s4 input-field">
                                <input type="text" name="zip_code">
                                <label>{{ billing_address_form.zip_code.label }}</label>
                            </div>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                        
                        <div class="col s12 m10 offset-m1 xl6 offset-xl3" style="padding-left:0; padding-right: 0">
                        
                        <div class="center-align">
                            <p style="margin-top:0" class="summary-total">Total - <b class="total-line">${{ cart.total|intcomma }}</b></p>
                            <button class="btn waves-effect z-depth-1 place-order-btn" style="margin-bottom: 20px; background-color: rgb(29, 154, 29) !important;">
                                Complete Order
                            </button>
                            <br>
                            <a href="https://www.braintreegateway.com/merchants/tb3vd7jd2hynhxcn/verified" target="_blank">
                            <img src="https://s3.amazonaws.com/braintree-badges/braintree-badge-dark.png" width="164px" height ="44px" border="0"/>
                            </a>
                        </div>
                        </div>
                        
                    
                    </fieldset>
                </form> 
           
          </div>
        <div class="col s12 l6">
            <div class="z-depth-1 summary-card">
                <p class="modal-summary-title" style="margin-bottom: 0;">Summary</p>
                <table class="summary-table" id="summary-table-sponsor-1">
                  <thead id="summary-thead">
                      <tr id="total-tr">
                          <td>Ticket Type</td>
                          <td>Price</td>
                          <td class="center-align">Qty</td>
                      </tr>
                  </thead>
                  <tbody class="tbody summary-table-body">
                      {% for x in item_list %}
                      {% if x.quantity > 0 %}
                      <tr class="product-row {{ x.pk }}-row">
                          <td class="product-summary">{{ x.ticket }}</td>
                          <td class="product-summary-price {{ x.pk }}-price">${{ x.ticket.price|intcomma }}</td>
                          <td class="product-summary-quantity  center-align {{ x.pk }}-quantity">{{ x.quantity }}</td>
                      </tr>
                      {% endif %}
                      {% endfor %}
                  </tbody>
              </table>
                
              <div class="valign-wrapper" style="padding-top: 10px;">
                <p style="margin-top:0" class="summary-total">Total - <div class="total-line" id="final-total" value="{{ cart.total }}">${{ cart.total|intcomma }}</div> <a  style="margin-bottom: 5px" href="" class="btn checkout place-order-btn" id="step3-continue" style="background-color: rgb(29, 154, 29) !important; font-size: 32px !important">Complete Order</a>
                    <i class="secure"><i class="fas fa-lock"></i> Secure </i></p>
            </div>
            </div>
            <img class="z-depth-1" src="{% static 'img/golf-header.png' %}" width=100% style="margin-top: 20px">
        </div>
    </div>
    </div>
</div>

<style>
    .summary-card {
      background: white
    }
    .secure {
        font-size: 14px;
        color: grey;
        margin-left: 20px
    }
    .sale {
        color:#bf1e2d
    }
    .btn.checkout {
        font-size: 20px !important;
        background-color:#01a650;
        transition: all 0.3s ease-in-out;
        margin-left: 3%
    }
    .btn.checkout:hover {
        background-color:#219157;
    }
    .btn-ticket {
        font-size: 12px;
        line-height: 40px;
        height: 40px
    }
    .guest-input {
        margin-top: 10px;
        margin-bottom: 0
    }
    .guest-input input {
        height: 2.2rem !important
    }
    .modal-content {
        padding: 1% !important
    }
    .modal-container {
        padding: 1% 4% !important;
    }
    .summary-total-title {
        font-family: oskar, sans-serif;
        font-size: 22px
    }
    .summary-total {
        font-family: oskar, sans-serif;
        font-size: 20px;
        margin-bottom: 0
    }
    .total-line {
        font-family: oskar, sans-serif;
        font-size: 20px;
        margin-bottom: 0;
        margin-left: 3px;
        font-weight: 400
    }
    .summary-table thead td {
        font-size: 20px;
        font-weight: 300
    }
    .summary-table td {
        font-family: oskar, sans-serif;
        font-weight: 200;
    }
    .modal {
        max-height: 95% !important
    }
    #ticketModal {
        width: 95% !important;
        top: 5% !important
    }
    #sponsorModal {
        width: 95% !important;
        top: 5% !important
    }
    #ticket-form {
        margin-top: 5%;
    }
    .ticket-row td {
        padding: 0 !important
    }
    .ticket-row p {
        margin: 2px;
    }
    .ticket-row {
        margin-bottom: 0
    }
    .ticket-quantity-input {
        width: 30%;
        margin-top: 30px
    }
    .modal-summary-title {
        font-family: oskar;
        font-size: 28px;
    }
    .ticket-title {
        font-family: oskar;
        margin-top: 10px;
        color:#01a650;
        font-size: 22px
    }
    .ticket-price {
        font-family: oskar;
        color: rgb(0, 0, 0);
        font-size: 18px;
    }
    #ticket-form svg {
        stroke: none !important
    }
    .modal-title {
        font-family: oskar-inline, sans-serif;
        font-size: 28px;
        color:#bf1e2d;
    }
    .modal-date {
        font-family: oskar-inline, sans-serif;
        font-size: 14px
    }
    .ticket-description{
        font-size: 12px
    }
    #page {
        background: url('{% static "img/vbp_collage.png" %}');
    }
    #overlay {
        background: rgba(255, 255, 255, 0.959);
        width: 100%;
    }
    .text {
        font-family: oskar;
        font-size: 20px
    }
    .tickets-email-link {
        font-family: oskar;
        font-size: 18px
    }
    iframe {
        height: 200px
    }
    @media only screen and (min-width: 450px){
        .btn-ticket {
            font-size: 16px;
            line-height: 40px;
            height: 40px
        }
    }
    @media only screen and (min-width: 601px){
      .modal-date {
        font-family: oskar-inline, sans-serif;
        font-size: 20px
    }
        .btn-ticket {
            font-size: 20px;
            line-height: 50px;
            height: 50px
        }
        .ticket-row td {
            padding: 2% 0% !important
        }
        .ticket-quantity-input {
            width: 80%;
            margin-left: 10%
        }
        .text {
            font-size: 28px
        }
        .tickets-email-link {
            font-size: 24px
        }
        iframe {
            height:400px
        }
        .summary-card {
            padding: 2% 5% !important
        }
    }
    @media only screen and (min-width: 992px){
      .modal-title {  
        font-size: 36px;
    }
        .btn-ticket {
            font-size: 28px;
            line-height: 60px;
            height: 60px
        }
        .ticket-quantity-input {
            width: 70%;
            margin-left: 15%
        }
        .card {
            margin: 0
        }
        #ticketModal {
        width: 90% !important
    }
    #sponsorModal {
        width: 90% !important
    }
    }
</style>
<script>
    $('.qty-counter').on('change', function(){
        var qty = $(this).val()
        var tid = $(this).attr('tid')
        var data = {
            'quantity': qty,
            'tid': tid,
            'event': 'Power Swing Classic Golf Event',
            csrfmiddlewaretoken: '{{ csrf_token }}'
        }
        $.ajax({
            data: data,
            url: '/events/ticket-update-cart/',
            method: 'POST',
            success: function(data){
                var price = data.price
                var quantity = data.quantity
                if (data.previousQuantity > 0) {
                  if (quantity > 0){
                    $(data.priceTarget).html(price)
                    $(data.quantityTarget).html(quantity)
                  } else {
                      $(data.row).remove()
                  }
                }
                else if (data.previousQuantity == 0) {
                  $('.summary-table-body').append('<tr class="product-row '+ data.pk +'-row"><td class="product-summary">'+ data.ticket +'</td><td class="product-summary-price '+ data.pk + '-price">'+ data.price +'</td><td class="product-summary-quantity center-align '+ data.pk +'-quantity">'+ data.quantity +'</td></tr>')
                }
                var total = data.total
                $('.total-line').html(total)
                $('#guest-form').load()
                },
                error: function(data){
                }
            })
        })
    $('#step1-continue').on('click', function(event){
        event.preventDefault()
        $('#ticket-checkout-p1').hide()
        $('#ticket-checkout-p2').show()
    })
    $('#step2-back').on('click', function(event){
        event.preventDefault()
        $('#ticket-checkout-p2').hide();
        $('#ticket-checkout-p1').show();
        
    })
    $('#step-2-billing').on('click', function(event){
        event.preventDefault()
        $('#ticket-checkout-p2').hide()
        $('#ticket-checkout-p3').show()
    })
    $('#step3-back').on('click', function(event){
        event.preventDefault()
        $('#ticket-checkout-p3').hide();
        $('#ticket-checkout-p2').show();
        
    })
    $('#sponsor-step3-back').on('click', function(event){
        event.preventDefault()
        $('#sponsor-checkout-p3').hide();
        $('#sponsor-checkout-p2').show();
        
    })
    $('#sponsor-step1-continue').on('click', function(event){
        event.preventDefault()
        $('#sponsor-checkout-p1').hide()
        $('#sponsor-checkout-p2').show()
    })
    $('#sponsor-step2-back').on('click', function(event){
        event.preventDefault()
        $('#sponsor-checkout-p2').hide();
        $('#sponsor-checkout-p1').show();
        
    })
    $('#sponsor-step-2-billing').on('click', function(event){
        event.preventDefault()
        $('#sponsor-checkout-p2').hide()
        $('#sponsor-checkout-p3').show()
    })
    $('#sponsor-step3-back').on('click', function(event){
        event.preventDefault()
        $('#sponsor-checkout-p3').hide();
        $('#sponsor-checkout-p2').show();
        
    })
  </script>
  <style>
    .hidden {
      display: none
    }
    .p-subtitle {
      font-family: oskar;
      font-size: 20px;
      color: rgb(109, 108, 108);
      font-weight: 300;
    }
    .item-category {
      font-family: oskar;
      font-size: 24px;
      font-weight: 200;
    }
    #add-new {
      background: rgb(41, 41, 41)
    }
    #add-new-billing {
      background: rgb(41, 41, 41);
    }
    .express-checkout {
      border: 1px solid rgb(218, 218, 218);
      border-radius: 15px;
      padding-top: 10px;
      padding-bottom: 15px;
      margin-top: 0px
    }
    .express-checkout h6 {
      margin-top: 0;
      font-family: oskar;
      font-size: 20px
    }
    .input-icon {
      font-size: 18px;
      color: rgb(160, 160, 160);
      margin-right: 10px
    }
    .checkout-fieldset {
      border: none;
      border-radius: 15px;
      margin-top: 20px;
      margin-bottom: 20px;
  
    }
    .checkout-fieldset p {
      margin-bottom: 0;
      margin-top: 0px;
    }
    .p-title {
      font-family: oskar;
      font-size: 18px;
    }
    .checkout-fieldset h5 {
      font-family: oskar;
      color: rgb(30, 167, 30)
    }
    .secure-checkout {
      font-size: 14px;
      font-weight: 300;
      color: rgb(99, 99, 99);
    }
    .secure-checkout span {
      font-size: 16px
    }
    label {
      color: rgb(43, 43, 43) !important
    }
    .fieldset-title {
      font-family: oskar;
      font-size: 20px;
      color: rgb(186, 37, 37);
      text-decoration: underline;
    }
      .hidden {
          display: none;
      }
      .p-item {
        font-size: 14px;
        font-weight: 300
      }
      .required {
          color: red
      }
      .label-title {
          font-size: 16px
      }
      .donate-buttons {
          padding-bottom: 60px
      }
      .donate-buttons a {
          width: 100%;
          margin:5px;
          font-size: 16px;
          letter-spacing: 1.5px;
          font-weight:400;
          height: 50px;
          padding-top:4px;
          border-radius: 40px;
      }
      .donate-buttons a i {
          font-size: 24px;
      }
      .donation-title {
          font-family: oskar-inline;
          font-size: 52px;
      }
      .content-row {
      }
      .section-title {
        font-family: oskar-inline;
        color: rgb(24, 160, 24);
        font-size: 36px;
        text-align: center
      }
      .address-label {
        font-size: 14px
      }
      label span {
        margin-bottom: -5px
      }
      @media only screen and (min-width:0px){
          .donate-text-small {
            display: block;
          }
          .donate-text-large {
            display: none;
          }
          .donation-title {
              font-family: oskar-inline;
              font-size: 32px;
          }
          .donation-subtitle {
              font-size: 16px;
              font-weight: 300;
              line-height: 20px
          }
          .venmo-button {
            width: 95%;
            margin-left: 0;
          }
          .creditcard-button {
            width: 95%;
            font-size: 18px;
          }
          .google-button {
            width: 95%;
          }
          .paypal-button {
            width: 95%;
          }
          #paypal-button {
            width: 95%;
          }
          .applepay-button {
            width: 95%;
          }
          .paypal-button-row {
            height: 50px !important
          }
      }
  
      @media only screen and (min-width:601px){
        .checkout-fieldset h5 {
          font-size: 28px;
        }
        .donate-text-small {
            display: none;
          }
          .donate-text-large {
            display: block;
            letter-spacing: 2px;
          }
          .donation-title {
              font-family: oskar-inline;
              font-size: 42px;
          }
          .summary-container {
            position: fixed;
            right: 0 !important;
          }
          .venmo-button {
          }
          .fieldset-title {
            font-family: oskar;
            font-size: 24px
          }
          .p-title {
            font-family: oskar;
            font-size: 20px;
          }
          .p-item {
        font-size: 18px
      }
      }
      @media only screen and (min-width:993px){
        .checkout-fieldset h5 {
          font-size: 36px;
        }
          .donation-title {
              font-family: oskar-inline;
              font-size: 48px;
          }
          .donation-subtitle {
              font-size: 20px;
              font-weight: 300;
              line-height: 24px;
          }
          .venmo-button {
            font-size: 16px;
          }
          .creditcard-button {
            font-size: 20px;
          }
          .google-button {
            font-size: 16px;
          }
          .paypal-button {
            font-size: 16px;
          }
          .applepay-button {
            font-size: 16px;
          }
          .fieldset-title {
            font-family: oskar;
            font-size: 26px
          }
          .checkout-fieldset p {
            margin-bottom: 15px !important
          }
          .p-title {
            font-family: oskar;
            font-size: 26px;
          }
          .checkout-container{
          }
          .section-title {
            font-size: 48px;
          }
      }
      @media only screen and (min-width:1226px){
       
      }
      @media only screen and (min-width:1400px){
          .donation-title {
              font-family: oskar-inline;
              font-size: 56px;
          }
          .donation-subtitle {
              font-size: 20px;
              font-weight: 300;
              line-height: 24px
          }
          .fieldset-title {
            font-family: oskar;
            font-size: 28px
          }
      }
      .cc-button {
          background-color: rgb(55, 54, 54)
      }
      .cc-button:hover {
          background-color:rgb(101, 101, 101)
      }
      .pp-button {
          background-color: #3b7bbf
      }
      .pp-button:hover {
          background-color:#6799ce
      }
      .venmo-button {
          background-color: #3d95ce;
          color:white;
          margin:5px;
          letter-spacing: 1.5px;
          font-weight:500;
          height: 50px;
          line-height: 45px;
          border-radius: 40px;
      }
      .venmo-button:hover {
          background-color:#739296
      }
      .creditcard-button {
        background-color: #0f9a22;
        color:rgb(255, 255, 255);
          margin:5px;
          letter-spacing: 1.5px;
          font-weight:500;
          height: 50px;
          line-height: 40px;
          border-radius: 40px;
      }
      .creditcard-button:hover {
          background-color:#5e6a4b
      }
      .google-button {
        background-color: #fcfcfc;
        color:rgb(50, 50, 50);
          margin:5px;
          letter-spacing: 1.5px;
          font-weight:500;
          height: 50px;
          line-height: 45px;
          border-radius: 40px;
      }
      .google-button:hover {
          background-color:#ded8d8
      }
      .paypal-button {
        background-color: #ffffff;
        color:rgb(50, 50, 50);
          margin:5px;
          letter-spacing: 1.5px;
          font-weight:500;
          height: 50px;
          line-height: 45px;
          border-radius: 40px !important;
      }
      .paypal-button:hover {
          background-color:#d3d1da
      }
      .paypal-button-container{
        font-family: poppins !important;
        font-weight: 500;
        text-transform: uppercase !important;
      }
      .applepay-button {
        background-color: #181818;
        color:rgb(50, 50, 50);
          margin:5px;
          letter-spacing: 1.5px;
          font-weight:500;
          height: 50px;
          line-height: 45px;
          border-radius: 40px;
      }
      .applepay-button:hover {
          background-color:#5e5e5e
      }
      .paypal-button.paypal-button-color-white, .paypal-button-row.paypal-button-color-white .menu-button {
        border: none !important;
      }
      body {
    background-color: #fff;
  }
  
  .toast {
    position: fixed;
    top: 15px;
    right: 15px;
    z-index: 9999;
  }
  
  .bootstrap-basic {
    background: white;
  }
  
  #or {
    position: relative;
    line-height: 50px;
    text-align: center;
    font-weight: 500;
  }
  
  #or::before,
  #or::after {
    position: absolute;
    width: 30%;
    height: 1px;
    
    top: 25px;
    
    background-color: rgb(193, 193, 193);
    
    content: '';
  }
  
  #or::before {
    left: 15%;
  }
  
  #or::after {
    right: 15%;
  }
  .btn:focus {
    background-color:rgb(160, 160, 160) !important;
  }
  #card-number {
    height: 3rem;
    border-bottom: 1px solid #9e9e9e;
  }
  #card-date {
    height: 3rem;
    border-bottom: 1px solid #9e9e9e;
  }
  #card-cvv {
    height: 3rem;
    border-bottom: 1px solid #9e9e9e;
  }
  #card-zip {
    height: 3rem ;
    border-bottom: 1px solid #9e9e9e;
  }
  ::placeholder {
    color: rgb(186, 186, 186) !important
  }
  </style>
  <script>
    $('#add-new').on('click', function(){
      $('#new-address-form').toggle();
      $('[name="shipping-address-group"]').prop('checked', false)
    });
    $('#add-new').hide()
    $('[name="shipping-address-group"]').on('change', function(){
        $('#add-new').show();
        $('#saved-or-new').attr('value', 'saved');
        $('#saved-id').attr('value', 'saved');
        $('#new-address-form').hide();
        $('#new-address-form input').val('');
        
    });
    $('#new-address-form input').on('keyup', function(){
      $('#saved-or-new').attr('value', 'new');
    })
    $('#add-new-billing').on('click', function(){
      $('#new-billing-address-form').toggle();
      $('[name="billing-address-group"]').prop('checked', false)
    });
    $('#add-new-billing').hide()
    $('[name="billing-address-group"]').on('change', function(){
        $('#add-new-billing').show();
        $('#billing-saved-or-new').attr('value', 'saved');
        $('#saved-billing-id').attr('value', 'saved');
        $('#new-billing-address-form').hide();
        $('#new-billing-address-form input').val('');
        
    });
    $('#new-billing-address-form input').on('keyup', function(){
      $('#billing-saved-or-new').attr('value', 'new');
    })
  </script>
  <script src="https://js.braintreegateway.com/web/3.82.0/js/client.min.js"></script>
  <script src="https://js.braintreegateway.com/web/3.82.0/js/venmo.min.js"></script>
  <script src="https://js.braintreegateway.com/web/3.82.0/js/data-collector.min.js"></script>
  <script src="https://pay.google.com/gp/p/js/pay.js"></script>
  <script src="https://js.braintreegateway.com/web/3.82.0/js/google-payment.min.js"></script>
  <script src="https://js.braintreegateway.com/web/3.82.0/js/paypal-checkout.min.js"></script>
  <script src="https://js.braintreegateway.com/web/3.82.0/js/hosted-fields.min.js"></script>
  <script>
  var venmoButton = document.getElementById('venmo-button')
  
  braintree.client.create({
      authorization: 'production_pgz5pm7q_tb3vd7jd2hynhxcn'
    }, function (clientErr, clientInstance) {
    if (clientErr) {
      console.error('Error creating client:', clientErr);
      return;
    }
    braintree.hostedFields.create({
      client: clientInstance,
      styles: {
        'input': {
          'font-size': '16px',
          'color': 'black',
          'border-bottom': '1px solid #9e9e9e',
          'border-radius': '0',
          'outline': 'none',
          'height': '3rem',
        }
      },
      fields: {
        number: {
          container: '#card-number',
        },
        cvv: {
          container: '#card-cvv',
          masked: true
        },
        expirationDate: {
          container: '#card-date',
        },
        postalCode: {
          container: '#card-zip',
        }
      }
    }, function(hostedFieldsErr, hostedFieldsInstance){
      if (hostedFieldsErr){
        alert(hostedFieldsErr);
        return;
      }
      $('.place-order-btn').on('click', function(event){
        event.preventDefault();
        hostedFieldsInstance.tokenize(function (tokenizeErr, payload) {
          if (tokenizeErr) {
            console.error(tokenizeErr);
            return;
          }
          var billing_type= $('#billing-saved-or-new').val();
          $('#nonce-input').attr('value', payload.nonce);
          ticketNB()
        });
      });
    
    braintree.dataCollector.create({
      client: clientInstance,
      paypal: true
    }, function (dataCollectorErr, dataCollectorInstance) {
      if (dataCollectorErr) {
        return;
      }
      var deviceData = dataCollectorInstance.deviceData
      $('#device-data-input').attr('value', deviceData)
    });
  
    braintree.venmo.create({
      client: clientInstance,
      allowDesktop: true,
      paymentMethodUsage: 'multi_use',
      allowNewBrowserTab: false, 
    }, function (venmoErr, venmoInstance) {
      if (venmoErr) {
        console.error('Error creating Venmo:', venmoErr);
        return;
      }
  
      if (!venmoInstance.isBrowserSupported()) {
        console.log('Browser does not support Venmo');
        return;
      }
  
      displayVenmoButton(venmoInstance);
      if (venmoInstance.hasTokenizationResult()) {
        venmoInstance.tokenize(function (tokenizeErr, payload) {
          if (err) {
            handleVenmoError(tokenizeErr);
          } else {
            handleVenmoSuccess(payload);
          }
        });
        return;
      }
    });
    
    var paymentsClient = new google.payments.api.PaymentsClient({
      environment: 'PRODUCTION'
    });
    var googleButton = document.querySelector('#google-pay-button');
    
    braintree.googlePayment.create({
      client: clientInstance,
      googlePayVersion: 2,
      
    }, function (err, googlePaymentInstance) {
      paymentsClient.isReadyToPay({
        // see https://developers.google.com/pay/api/web/reference/object#IsReadyToPayRequest for all options
        apiVersion: 2,
        apiVersionMinor: 0,
        allowedPaymentMethods: googlePaymentInstance.createPaymentDataRequest().allowedPaymentMethods,
        existingPaymentMethodRequired: true
      }).then(function (isReadyToPay) {
        if (isReadyToPay.result) {
          googleButton.addEventListener('click', function(event){
            var totalPrice = String($('#final-total').attr('value'))
            
            var paymentDataRequest = googlePaymentInstance.createPaymentDataRequest({
              transactionInfo: {
                currencyCode: 'USD',
                totalPriceStatus: 'FINAL',
                totalPrice: totalPrice,
              }
            });
            var cardPaymentMethod = paymentDataRequest.allowedPaymentMethods[0];
            cardPaymentMethod.parameters.billingAddressRequired = false;
            paymentsClient.loadPaymentData(paymentDataRequest).then(function(paymentData){
              googlePaymentInstance.parseResponse(paymentData, function(err, result){
                if (err) {
                  Swal.fire(
                    'An error occured',
                    'Please try again',
                    'error'
                  )
                }
                $('#nonce-input').attr('value', result.nonce);
                ticketNB()
              })
            }).catch(function(err){
              Swal.fire(
                    'An error occured',
                    'Please try again',
                    'error'
                  )
                  console.log(err)
            });
          });
        }
      });
    });
    braintree.paypalCheckout.create({
      client: clientInstance
    }, function(paypalCheckoutErr, paypalCheckoutInstance){
      if (paypalCheckoutErr){
        console.error('Paypal Error:',paypalCheckoutErr);
        return;
      }
      paypalCheckoutInstance.loadPayPalSDK({
        vault: true
      },function(){
        paypal.Buttons({
          fundingSource: paypal.FUNDING.PAYPAL,
          style: {
            color: 'gold',
            shape: 'pill',
            height: 50,
            width: 'responsive'
          },
          createBillingAgreement: function(){
            return paypalCheckoutInstance.createPayment({
              flow: 'vault',
            });
          },
          onApprove: function(data, actions) {
            return paypalCheckoutInstance.tokenizePayment(data, function(err, payload){
              $('#nonce-input').attr('value', payload.nonce);
              if (shipping_type === 'saved'){
                ticketNB()
              }else{
                ticketNB()
              }
              
            });
          },
          onCancel: function (data) {
            console.log('PayPal payment canceled', JSON.stringify(data, 0, 2));
          },
  
          onError: function (err) {
            console.error('PayPal error', err);
          },
        }).render('#paypal-button').then(function(){
          
        });
      });
    });
  
  });
  
  function displayVenmoButton(venmoInstance) {
    venmoButton.style.display = 'block';
  
    venmoButton.addEventListener('click', function () {
      venmoButton.disabled = true;
  
      venmoInstance.tokenize(function (tokenizeErr, payload) {
        venmoButton.removeAttribute('disabled');
  
        if (tokenizeErr) {
          handleVenmoError(tokenizeErr);
        } else {
          handleVenmoSuccess(payload);
        }
      });
    });
  }
  
  function handleVenmoError(err) {
    if (err.code === 'VENMO_CANCELED') {
      console.log('App is not available or user aborted payment flow');
    } else if (err.code === 'VENMO_APP_CANCELED') {
      console.log('User canceled payment flow');
    } else {
      Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: 'Something went wrong! Please try again',
          })
    }
  }
  
  function handleVenmoSuccess(payload) {
    $('#nonce-input').attr('value', payload.nonce);
    ticketNB();
  }
  function ticketNB(){
      var guestList = $('#guest-form').serialize()
      var sponsorGuests = $('#sponsor-guest-request').val()
      var billing_address = $('#billing-form').serialize()
      var nonce = $('#nonce-input').val()
      var deviceData = $('device-data-input').val()
      var csrf_token = $('[name="csrfmiddlewaretoken"]').val()
      data = {
        csrfmiddlewaretoken: csrf_token,
        'guestList': guestList,
        'nonce': nonce,
        'deviceData': deviceData,
        'billing_address': billing_address,
        'sponsorGuests': sponsorGuests,
        'email': $('input[name=email]').val(),
      }
      $.ajax({
        url: '/cart/ticket-nb',
        method: 'POST',
        data: data,
        success: function(data){
          Swal.fire({
            icon: 'success',
            title: 'Thank You!',
            text: 'You will receive an email with your tickets shortly!',
          })
        },
        error: function(data){
          Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: 'Something went wrong! Please try again',
          })
        } 
      })
  }
})
  </script>
{% endblock %}